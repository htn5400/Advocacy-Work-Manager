{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Abi Lopez\\\\Desktop\\\\CS194W\\\\my-app\\\\src\\\\components\\\\search.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport Card from 'react-bootstrap/Card';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Spinner from 'react-bootstrap/Spinner';\nimport { Link, useNavigate } from \"react-router-dom\";\nimport util from '../util.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Search() {\n  _s();\n\n  const [data, setData] = useState(null);\n  const [error, setError] = useState(null);\n  const [userChecked, setUserChecked] = useState(false);\n  const navigate = useNavigate();\n  /* If the user is not logged in, redirect to signin. */\n\n  useEffect(() => {\n    if (!userChecked) {\n      checkUser();\n    }\n  });\n  /* function checkUser\r\n   *\r\n   * Routes user to '/' if user not logged in.\r\n   */\n\n  function checkUser() {\n    util.requestGET('/causes_api/get_user').then(res => {\n      if (res.status !== 200) {\n        navigate('/');\n      } else {\n        setUserChecked(true);\n      }\n    });\n  }\n\n  function formSubmit(e) {\n    e.preventDefault();\n    setError(null);\n    setData(false);\n    const formData = new FormData(e.target);\n    util.requestPOST('/causes_api/searchorgs', formData).then(res => {\n      if (res.status === 200) {\n        res.json().then(body => {\n          setData(body);\n        });\n      } else if (res.status === 401) {\n        navigate('/');\n      } else {\n        setData(null);\n        setError('An error has occurred. Please try again.');\n      }\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [userChecked && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"search\",\n      children: [/*#__PURE__*/_jsxDEV(Card, {\n        style: {\n          width: '600px'\n        },\n        className: \"mx-auto\",\n        children: /*#__PURE__*/_jsxDEV(Card.Body, {\n          children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n            children: \"Find New Organizations\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n            style: {\n              textAlign: \"left\"\n            },\n            children: /*#__PURE__*/_jsxDEV(Form, {\n              onSubmit: formSubmit,\n              children: /*#__PURE__*/_jsxDEV(Form.Group, {\n                as: Row,\n                className: \"mb-3\",\n                children: [/*#__PURE__*/_jsxDEV(Col, {\n                  children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                    type: \"text\",\n                    placeholder: \"Search\",\n                    name: \"searchInput\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 74,\n                    columnNumber: 22\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 74,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(Col, {\n                  children: /*#__PURE__*/_jsxDEV(Button, {\n                    variant: \"primary\",\n                    type: \"submit\",\n                    children: \"Search\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 75,\n                    columnNumber: 22\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 75,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 13\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 13\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }, this), data === false && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"my-3\",\n        children: /*#__PURE__*/_jsxDEV(Spinner, {\n          animation: \"border\",\n          variant: \"primary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 15\n      }, this), data && data.length > 0 && data.map(org => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: \"my-3\",\n            children: /*#__PURE__*/_jsxDEV(Link, {\n              to: \"/orghome?\" + new URLSearchParams({\n                \"org\": org.name\n              }),\n              style: {\n                textDecoration: 'none'\n              },\n              children: /*#__PURE__*/_jsxDEV(Card.Body, {\n                children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n                  children: org.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: org.category\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 99,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: org.bio\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 100,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 98,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 23\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 21\n          }, this)\n        }, org.name, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 19\n        }, this);\n      }), data && data.length === 0 && /*#__PURE__*/_jsxDEV(Card, {\n        className: \"my-3\",\n        children: /*#__PURE__*/_jsxDEV(Card.Body, {\n          children: /*#__PURE__*/_jsxDEV(Card.Title, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: \"No Organizations Found\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 15\n      }, this), error && /*#__PURE__*/_jsxDEV(Card, {\n        className: \"my-3\",\n        children: /*#__PURE__*/_jsxDEV(Card.Body, {\n          children: /*#__PURE__*/_jsxDEV(Card.Title, {\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }, this), !userChecked && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"my-3\",\n      children: /*#__PURE__*/_jsxDEV(Spinner, {\n        animation: \"border\",\n        variant: \"primary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Search, \"IuxTYst2AjUyis1jW3i3S2b0VeY=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Search;\nexport default Search;\n\nvar _c;\n\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"names":["React","useState","useEffect","Form","Button","Card","Row","Col","Spinner","Link","useNavigate","util","Search","data","setData","error","setError","userChecked","setUserChecked","navigate","checkUser","requestGET","then","res","status","formSubmit","e","preventDefault","formData","FormData","target","requestPOST","json","body","width","textAlign","length","map","org","URLSearchParams","name","textDecoration","category","bio"],"sources":["C:/Users/Abi Lopez/Desktop/CS194W/my-app/src/components/search.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Card from 'react-bootstrap/Card';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\nimport Spinner from 'react-bootstrap/Spinner';\r\n\r\nimport { Link, useNavigate } from \"react-router-dom\";\r\n\r\nimport util from '../util.js';\r\n\r\nfunction Search() {\r\n  const [data, setData] = useState(null);\r\n  const [error, setError] = useState(null);\r\n  const [userChecked, setUserChecked] = useState(false);\r\n\r\n  const navigate = useNavigate();\r\n\r\n  /* If the user is not logged in, redirect to signin. */\r\n  useEffect(() => {\r\n    if (!userChecked) {\r\n      checkUser();\r\n    }\r\n  });\r\n\r\n  /* function checkUser\r\n   *\r\n   * Routes user to '/' if user not logged in.\r\n   */\r\n  function checkUser() {\r\n    util.requestGET('/causes_api/get_user').then(res => {\r\n      if (res.status !== 200) {\r\n        navigate('/');\r\n      } else {\r\n        setUserChecked(true);\r\n      }\r\n    });\r\n  }\r\n\r\n  function formSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    setError(null);\r\n    setData(false);\r\n\r\n    const formData = new FormData(e.target);\r\n    util.requestPOST('/causes_api/searchorgs', formData)\r\n      .then(res => {\r\n        if (res.status === 200) {\r\n          res.json().then(body => {\r\n            setData(body);\r\n          });\r\n        } else if (res.status === 401) {\r\n          navigate('/');\r\n        } else {\r\n          setData(null);\r\n          setError('An error has occurred. Please try again.');\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {userChecked &&\r\n        <div className=\"search\">\r\n            <Card  style={{ width: '600px' }} className = \"mx-auto\">\r\n            <Card.Body>\r\n            <Card.Title>Find New Organizations</Card.Title>\r\n            <Card.Text style={{textAlign: \"left\"}}>\r\n            <Form onSubmit={formSubmit}>\r\n            <Form.Group as={Row} className=\"mb-3\">\r\n                <Col><Form.Control type=\"text\" placeholder=\"Search\" name=\"searchInput\"/></Col>\r\n                <Col><Button variant=\"primary\" type=\"submit\" >\r\n                    Search\r\n                </Button></Col>\r\n            </Form.Group>\r\n            </Form>\r\n\r\n            </Card.Text>\r\n            </Card.Body>\r\n            </Card>\r\n\r\n            {data === false &&\r\n              <div className=\"my-3\">\r\n                <Spinner animation=\"border\" variant=\"primary\" />\r\n              </div>\r\n            }\r\n            {data && data.length > 0 &&\r\n              data.map(org => {\r\n                return (\r\n                  <div key={org.name}>\r\n                    <Card className=\"my-3\">\r\n                      <Link to={\"/orghome?\"+ new URLSearchParams({\"org\": org.name})} style={{ textDecoration: 'none' }}>\r\n                        <Card.Body>\r\n                        <Card.Title>{org.name}</Card.Title>\r\n                        <Card.Text>\r\n                            <div>{org.category}</div>\r\n                            <div>{org.bio}</div>\r\n                        </Card.Text>\r\n                        </Card.Body>\r\n                        </Link>\r\n                    </Card>\r\n                  </div>\r\n                );\r\n              })\r\n            }\r\n            {data && data.length === 0 &&\r\n              <Card className=\"my-3\">\r\n                <Card.Body>\r\n                <Card.Title>\r\n                    <div>No Organizations Found</div>\r\n                </Card.Title>\r\n                </Card.Body>\r\n              </Card>\r\n            }\r\n            {error &&\r\n              <Card className=\"my-3\">\r\n                <Card.Body>\r\n                <Card.Title>\r\n                    <div>{error}</div>\r\n                </Card.Title>\r\n                </Card.Body>\r\n              </Card>\r\n            }\r\n        </div>\r\n      }\r\n      {!userChecked &&\r\n        <div className=\"my-3\">\r\n          <Spinner animation=\"border\" variant=\"primary\" />\r\n        </div>\r\n      }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Search;"],"mappings":"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"},"metadata":{},"sourceType":"module"}