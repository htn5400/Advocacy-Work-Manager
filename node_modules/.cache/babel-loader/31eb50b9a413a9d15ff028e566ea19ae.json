{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Abi Lopez\\\\Desktop\\\\CS194W\\\\my-app\\\\src\\\\components\\\\createtask.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport Card from 'react-bootstrap/Card';\nimport Spinner from 'react-bootstrap/Spinner';\nimport { useNavigate } from \"react-router-dom\";\nimport util from '../util.js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction CreateTask() {\n  _s();\n\n  const [userChecked, setUserChecked] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const navigate = useNavigate();\n  /* If the user is not logged in, redirect to signin. */\n\n  useEffect(() => {\n    if (!userChecked) {\n      checkUser();\n    }\n  });\n  /* function checkUser\r\n   *\r\n   * Routes user to '/' if user not logged in as an organization.\r\n   */\n\n  function checkUser() {\n    util.requestGET('/causes_api/get_user').then(res => {\n      if (res.status === 200) {\n        res.json().then(body => {\n          if ('organization' in body) {\n            setUserChecked(true);\n          } else {\n            navigate('/');\n          }\n        });\n      } else {\n        navigate('/');\n      }\n    });\n  }\n\n  function formSubmit(e) {\n    e.preventDefault();\n    setLoading(true);\n    const formData = new FormData(e.target);\n    util.requestPOST('/causes_api/createtask', formData).then(res => {\n      if (res.status === 200) {\n        res.json().then(body => {\n          const org_name = body['org_name'];\n          const event_name = body['event_name'];\n        });\n        navigate('/eventhome');\n      } else if (res.status === 401) {\n        // TODO: Should display this message to the user but the error\n        // message should be better than alert()\n        alert('Must be signed in as an organization user to create an task.');\n      } else {\n        // TODO: some error has occurred. Display a message to the user\n        // error message should be better than alert()\n        alert(`An error has occurred. Status code: ${res.status}`);\n      }\n\n      setLoading(false);\n    });\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [userChecked && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"body\",\n      children: /*#__PURE__*/_jsxDEV(Card, {\n        style: {\n          width: '600px'\n        },\n        className: \"mx-auto my-3\",\n        children: /*#__PURE__*/_jsxDEV(Card.Body, {\n          children: [/*#__PURE__*/_jsxDEV(Card.Title, {\n            children: \"Create a New Task\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(Card.Text, {\n            style: {\n              textAlign: \"left\"\n            },\n            children: /*#__PURE__*/_jsxDEV(Form, {\n              onSubmit: formSubmit,\n              children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Name of Task\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 77,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  placeholder: \"Enter task name\",\n                  name: \"name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 78,\n                  columnNumber: 15\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Category of Task\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 82,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  placeholder: \"Enter task category\",\n                  name: \"category\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 83,\n                  columnNumber: 15\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Deadline\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 87,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  placeholder: \"Enter task deadline\",\n                  name: \"date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 15\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                  children: \"Description\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 92,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                  placeholder: \"Enter task description\",\n                  name: \"description\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 93,\n                  columnNumber: 15\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                className: \"mt-3\",\n                children: [!loading && /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"outline-secondary\",\n                  type: \"submit\",\n                  children: \"Create Task\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 17\n                }, this), loading && /*#__PURE__*/_jsxDEV(Spinner, {\n                  animation: \"border\",\n                  variant: \"primary\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 102,\n                  columnNumber: 17\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 11\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 9\n    }, this), !userChecked && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"my-3\",\n      children: /*#__PURE__*/_jsxDEV(Spinner, {\n        animation: \"border\",\n        variant: \"primary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n}\n\n_s(CreateTask, \"OqBFnnklwareBvuMACkkKkAKfvk=\", false, function () {\n  return [useNavigate];\n});\n\n_c = CreateTask;\nexport default CreateTask;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateTask\");","map":{"version":3,"names":["React","useState","useEffect","Form","Button","Card","Spinner","useNavigate","util","CreateTask","userChecked","setUserChecked","loading","setLoading","navigate","checkUser","requestGET","then","res","status","json","body","formSubmit","e","preventDefault","formData","FormData","target","requestPOST","org_name","event_name","alert","width","textAlign"],"sources":["C:/Users/Abi Lopez/Desktop/CS194W/my-app/src/components/createtask.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Form from 'react-bootstrap/Form'\r\nimport Button from 'react-bootstrap/Button'\r\nimport Card from 'react-bootstrap/Card'\r\nimport Spinner from 'react-bootstrap/Spinner';\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport util from '../util.js';\r\n\r\nfunction CreateTask() {\r\n  const [userChecked, setUserChecked] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const navigate = useNavigate();\r\n\r\n  /* If the user is not logged in, redirect to signin. */\r\n  useEffect(() => {\r\n    if (!userChecked) {\r\n      checkUser();\r\n    }\r\n  });\r\n\r\n  /* function checkUser\r\n   *\r\n   * Routes user to '/' if user not logged in as an organization.\r\n   */\r\n  function checkUser() {\r\n    util.requestGET('/causes_api/get_user').then(res => {\r\n      if (res.status === 200) {\r\n        res.json().then(body => {\r\n          if ('organization' in body) {\r\n            setUserChecked(true);\r\n          } else {\r\n            navigate('/');\r\n          }\r\n        })\r\n      } else {\r\n        navigate('/');\r\n      }\r\n    });\r\n  }\r\n\r\n  function formSubmit(e) {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    const formData = new FormData(e.target);\r\n    util.requestPOST('/causes_api/createtask', formData)\r\n      .then(res => {\r\n        if (res.status === 200) {\r\n          res.json().then(body => {\r\n            const org_name = body['org_name'];\r\n            const event_name = body['event_name'];\r\n          })\r\n          navigate('/eventhome');\r\n        } else if (res.status === 401) {\r\n          // TODO: Should display this message to the user but the error\r\n          // message should be better than alert()\r\n          alert('Must be signed in as an organization user to create an task.');\r\n        } else {\r\n          // TODO: some error has occurred. Display a message to the user\r\n          // error message should be better than alert()\r\n          alert(`An error has occurred. Status code: ${res.status}`);\r\n        }\r\n        setLoading(false);\r\n      });\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {userChecked &&\r\n        <div className=\"body\">\r\n          <Card  style={{ width: '600px' }} className = \"mx-auto my-3\">\r\n          <Card.Body>\r\n          <Card.Title>Create a New Task</Card.Title>\r\n          <Card.Text style={{textAlign: \"left\"}}>\r\n          <Form onSubmit={formSubmit}>\r\n            <Form.Group>\r\n              <Form.Label>Name of Task</Form.Label>\r\n              <Form.Control placeholder=\"Enter task name\" name='name'/>\r\n            </Form.Group>\r\n\r\n            <Form.Group>\r\n              <Form.Label>Category of Task</Form.Label>\r\n              <Form.Control placeholder=\"Enter task category\" name='category' />\r\n            </Form.Group>\r\n\r\n            <Form.Group>\r\n              <Form.Label>Deadline</Form.Label>\r\n              <Form.Control placeholder=\"Enter task deadline\" name='date'/>\r\n            </Form.Group>\r\n\r\n            <Form.Group>\r\n              <Form.Label>Description</Form.Label>\r\n              <Form.Control placeholder=\"Enter task description\" name='description'/>\r\n            </Form.Group>\r\n            <Form.Group className='mt-3'>\r\n              {!loading &&\r\n                <Button variant=\"outline-secondary\" type=\"submit\">\r\n                  Create Task\r\n                </Button>\r\n              }\r\n              {loading &&\r\n                <Spinner animation=\"border\" variant=\"primary\" />\r\n              }\r\n            </Form.Group>\r\n\r\n          </Form>\r\n          </Card.Text>\r\n          </Card.Body>\r\n          </Card>\r\n        </div>\r\n      }\r\n      {!userChecked &&\r\n        <div className=\"my-3\">\r\n          <Spinner animation=\"border\" variant=\"primary\" />\r\n        </div>\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default CreateTask;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}